/*!
 * vClock v2.0
 * Clock
 * Copyright 2015-2018 Comfort Software Group
 * All rights reserved
 */
;var vClock=(function(){var Z=$("#col-main");var u=$("#pnl-main");var R=$("#lbl-title");var h=$("#pnl-time");var ac=$("#lbl-time");var c=$("#lbl-noon");var a=$("#lbl-date");var b=$("#pnl-tools");var T=$("#btn-font-minus");var w=$("#btn-font-plus");var t=$("#pnl-neon");var k=false;var Q=false;var d=false;var P;var A=$("#row-clocks");var r=$("#edt-title");var m=$("#edt-country");var H=$("#edt-time-zone");var p=0;if(u.data("utc")!=undefined){p=parseInt(u.data("utc"),10)-(Math.floor(new Date().getTime()/1000))}var I=-1;var i=-1;var M=-1;var N="";var n=false;var f="";function j(){if(isEmbed){return}f="";if(f!=location.hash.substring(1)){location.replace("#"+f)}}function O(){f=location.hash.substring(1);if(f==""){return false}var ad=f.split("&");for(var ae=0;ae<ad.length;ae++){var af=ad[ae].split("=");processURIParam(af[0],af[1])}return true}var X=function(){$("noscript").remove();configC.restoreClock();if(!configC.clock12hour){c.hide()}if(!configC.clockDateVisible){a.hide()}if(langC.rtlTime){c.insertBefore(ac)}$(window).resize(y);window.refreshSettings=ad;function ad(){c.toggle(configC.clock12hour);a.toggle(configC.clockDateVisible);if(!n){return}x();E(true)}T.click(function(){hideTooltips();while(configC.clockFontSizeId>0){configC.clockFontSizeId--;if(S>FONT_SIZES[configC.clockFontSizeId]){break}}configC.save("clockFontSizeId");y()});w.click(function(){hideTooltips();if(configC.clockFontSizeId<FONT_SIZE_LEN&&S==FONT_SIZES[configC.clockFontSizeId]){configC.clockFontSizeId++}configC.save("clockFontSizeId");y()});$(document).on("keydown",function(ae){if(configC.themeFullScreen&&!Q&&(ae.key==="Escape"||ae.key==="Esc")){$("#btn-full-screen-exit").trigger("click")}if(Q&&ae.key==="Enter"){$("#btn-ok").trigger("click",ae)}});$(window).bind("hashchange",function(){if(!isEmbed){setShareEdit()}if(f==location.hash.substring(1)){return}if(O()){j()}});if(O()){j()}U();if(!isEmbed){setShareEdit()}$("#pnl-time").css("text-align","");Z.show();x();E(true);v();n=true;y();setTimeout(y,100);setTimeout(y,1000);setInterval(function(){if(Q){return}if($("#form-embed").css("display")==="block"){return}if($(".dropdown.open").length){return}window.location.reload(true)},28800000)};function L(){var ad="";$(".clock-body").each(function(){var af=$(this).data("country");var ag=$(this).data("tz");var ae=$(this).parent().find(".title").text();if(ae!=C(af,ag,true)){ad+="title="+ae+"\n"}ad+=af+"="+ag+"\n"});configC.clockPanels=ad;configC.save("clockPanels")}function U(){var al;N=u.data("langtz").toLowerCase();if(N==""){R.css("display","block");if(configC.clockPanels==""){if(typeof arrWorldclock!=="undefined"){for(al=0;al<arrWorldclock.length;al++){if(arrWorldclock[al][3]){g(G(arrWorldclock[al][0],arrWorldclock[al][1]),arrWorldclock[al][1],arrWorldclock[al][2])}}}}else{var ae=configC.clockPanels.split("\n");var aq="";for(al=0;al<ae.length;al++){var ar=ae[al];if(ar.substr(0,6)=="title="){aq=ar.substr(6)}else{if(ar.charAt(2)=="="){var am=ar.substr(0,2);var ad=ar.substr(3);g(aq==""?C(am,ad,true):aq,am,ad);aq=""}}}}$("#pnl-add-clock").show()}else{var ap=false;if(typeof arrWorldclock!=="undefined"){for(al=0;al<arrWorldclock.length;al++){if(z(arrWorldclock[al][0],arrWorldclock[al][1])==N){N=arrWorldclock[al][2];if(R.text()==""){R.text(G(arrWorldclock[al][0],arrWorldclock[al][1]))}ap=true;break}}}if(!ap&&N.charAt(N.length-3)=="_"){var af=N.slice(-2).toUpperCase();var an=tzCountries[af];if(an!=undefined){var ag=an.zones;var ai=N.substr(0,N.length-3);for(al=0;al<ag.length;al++){var ao=ag[al].split("/");if(ao[ao.length-1].toLowerCase()==ai){N=ag[al];var ak=F(af);if(u.data("title")==""){R.text(ao[ao.length-1].replace(/_/g," ")+(ak!=""?langC.commaSign+ak:""))}ap=true;break}}}}if(!ap){N=u.data("tz")}if(N!=""){var aj=moment.tz.zone(N).parse(moment().clone().tz("UTC"));var ah="(UTC/GMT "+(aj<=0?"+":"-");aj=Math.abs(aj);$("#lbl-tz-name").html(ah+intToStrTwo(Math.floor(aj/60))+":"+intToStrTwo(aj%60)+") "+N)}R.css("display","block")}$("td:nth-child(2)",".table-lr").remove();$("#pnl-description,#pnl-share,#pnl-help").show()}var aa=false;function K(){if(aa){return}aa=true;var ae="";if(typeof arrTZCountries!=="undefined"){for(var ad=0;ad<arrTZCountries.length;ad++){ae+='<option value="'+arrTZCountries[ad][0]+'">'+arrTZCountries[ad][1]+"</option>"}ae+='<option value="" disabled="disabled">─────────</option>'}$.each(tzCountries,function(af,ag){ae+="<option value='"+af+"'>"+ag.name+"</option>"});m.html(ae);if(tzCountries[langC.id.toUpperCase()]!==undefined){m.val(langC.id.toUpperCase())}}function F(ae){if(typeof arrTZCountries==="undefined"){return""}for(var ad=0;ad<arrTZCountries.length;ad++){if(arrTZCountries[ad][0]==ae){return arrTZCountries[ad][1]}}return""}function G(ae,ad){return ae+((langC.id!="en"||ad!="US")&&langC.id.toUpperCase()!=ad?langC.commaSign+F(ad):"")}function z(ae,ad){return(ae+(langC.id.toUpperCase()!=ad?"-"+F(ad):"")).replace(/,/g,"").replace(/ /g,"-").toLowerCase()}function C(ag,ai,ah){var ae="";if(typeof arrWorldclock!=="undefined"){for(var af=0;af<arrWorldclock.length;af++){if(arrWorldclock[af][1]==ag&&arrWorldclock[af][2]==ai){ae=ah?G(arrWorldclock[af][0],arrWorldclock[af][1]):arrWorldclock[af][0];break}}}if(ae==""){var ad=ai.split("/");ae=ad[ad.length-1].replace(/_/g," ")}return ae}function o(aj,ai,ak){var af="";var ag=C(ai,ak,true);if(typeof arrWorldclock!=="undefined"){for(var ae=0;ae<arrWorldclock.length;ae++){if(arrWorldclock[ae][1]==ai&&arrWorldclock[ae][2]==ak){var ah=G(arrWorldclock[ae][0],arrWorldclock[ae][1]);if(ah==aj){af=z(arrWorldclock[ae][0],arrWorldclock[ae][1])+"/";ag=ah;break}}}}if(af==""){var ad=ak.split("/");af=ad[ad.length-1]+"_"+ai+"/"}if(ag!=aj){if(isPlainURIParam(aj)){af+=aj.replace(/ /g,"+")+"/"}else{af+="?title="+encodeURIComponent(aj).replace(/%20/g,"+")}}return af}m.change(function(){var ak=moment().clone().tz("UTC");var aj=m.val();var ae=tzCountries[aj].zones;var ad,ai,ah;var ag="";for(var af=0;af<ae.length;af++){ad=ae[af];ai=moment.tz.zone(ad).parse(ak);ah="(UTC "+(ai<=0?"+":"-");ai=Math.abs(ai);ah+=intToStrTwo(Math.floor(ai/60))+":"+intToStrTwo(ai%60)+") ";ag+="<option value='"+ad+"'>"+ah+C(aj,ad,false)+"</option>"}H.html(ag);H.change()});H.change(function(){r.val(C(m.val(),H.val(),true))});function J(ad){P=ad.parent().parent().parent().parent().parent().parent()}function g(af,ae,ag){var ad=$('<div class="col-sm-4 col-md-3"><div class="panel panel-default panel-heading-fullwidth">      <div class="panel-heading colored">'+$("#pnl-clock-tools").html()+'<a href="#" class="colored ext-link"><span class="title text-ellipsis">'+encodeTitle(af)+'</span></a>      </div>      <div class="panel-body clock-body" data-country="'+ae+'" data-tz="'+ag+'">      <div class="colored digit text-nowrap text-center" style="font-size: 30px"></div><div class="colored text-center" style="font-size: 16px"></div>      </div></div></div>');ad.find(".ext-link").attr("href",o(af,ae,ag));ad.insertBefore("#col-add-clock");P=ad.children().first();setColors();$(".pm-edit").off("click").click(function(){if(Q){return}J($(this));$("#lbl-add-clock").hide();$("#lbl-edit-clock").show();d=false;K();m.val(P.find(".clock-body").data("country"));m.change();H.val(P.find(".clock-body").data("tz"));r.val(P.find(".title").text());$("#form-edit").modal("show")});$(".pm-move-top").off("click").click(function(){J($(this));setSelectedColor(P);if($("html, body").scrollTop()-(u.height()+30)>0){$("html, body").animate({scrollTop:(u.height()+30)},"fast")}setTimeout(function(){var ah=P.parent();ah.insertBefore(ah.siblings().first());setTimeout(function(){setDefaultColor(P)},400);L()},100)});$(".pm-move-up").off("click").click(function(){J($(this));setSelectedColor(P);setTimeout(function(){var ah=P.parent();ah.insertBefore(ah.prev());setTimeout(function(){setDefaultColor(P)},400);L()},100)});$(".pm-move-down").off("click").click(function(){J($(this));setSelectedColor(P);setTimeout(function(){var ah=P.parent();ah.insertAfter(ah.next());setTimeout(function(){setDefaultColor(P)},400);L()},100)});$(".pm-delete").off("click").click(function(){J($(this));P.css("background-color","#FF8585");P.find(".colored").css("color","#fff");P.parent().fadeOut(400,function(){$(this).remove();setTimeout(y,0);L()})})}$("#btn-add-clock").click(function(){if(Q){return}P=undefined;$("#lbl-add-clock").show();$("#lbl-edit-clock").hide();d=true;K();m.change();$("#form-edit").modal("show")});$("#btn-ok").click(function(){var ae=r.val();var ad=m.val();var af=H.val();if(ae.trim()==""){ae=C(ad,af,true)}if(d){g(ae,ad,af);setDigitFontNames();fadeHighlight(P,400)}else{P.find(".title").text(ae);P.find(".clock-body").data("country",ad);P.find(".clock-body").data("tz",af);P.find(".ext-link").attr("href",o(ae,ad,af))}L();k=true;E(true)});$("#form-edit").on("show.bs.modal",function(){cancelFullScreen();Q=true;setSelectedColor(P)}).on("hide.bs.modal",function(){setTimeout(function(){Q=false},100);if(!d){setDefaultColor(P)}});var B=0;var Y=0;var S=parseInt(ac.css("font-size"),10);function x(){setDigitFontNames();W(0)}function v(){var ad=configC.clockFontSizeId;S=FONT_SIZES[ad];ac.css("font-size",S+"px");while(ad>0&&(ab()>$(window).height()||e()>u.width())){ad--;S=FONT_SIZES[ad];ac.css("font-size",S+"px")}W(0)}function W(ad){S=S+ad;ac.css("font-size",S+"px");var ae=getSizeDT(S);c.css("font-size",Math.round(S/(configC.themeDigitalFont&&langC.am=="AM"?1.3:3))+"px");B=Math.round(ac.height()/4);Y=configC.themeDigitalFont?Math.round(ac.height()/6):0;if(R.text()!=""){R.css("font-size",Math.max(ae,MIN_TITLE_FONT_SIZE)+"px")}if(configC.clockDateVisible){a.css("font-size",Math.max(ae,MIN_DATE_FONT_SIZE)+"px")}}function ab(){return ac.height()+(R.text()!=""?R.height()+B+Y:Y)+(configC.clockDateVisible?a.height()+B+Y:Y)+B}function e(){return ac.width()+(configC.clock12hour?c.width()*4:ac.height())}var q=0;var l=5;function y(){if(!n){return}if(isEmbed&&$(window).height()==0){return}if(b.length==1){q=Z.position().top-15;b.css("margin",q+"px");l=b.height()}var ag=l+q;var af=ag+q+(R.text()!=""?MIN_LABEL_HEIGHT:0)+(configC.clockDateVisible?MIN_LABEL_HEIGHT:0)+MIN_TIME_HEIGHT;var ao=FONT_SIZES[configC.clockFontSizeId];function ai(){if(A.children().length>1){$("#pnl-add-clock").css("height",A.find(".panel-default").first().height()+"px");$("#pnl-add-clock-center").css("height","20%")}else{$("#pnl-add-clock").css("height",($("#btn-add-clock").height()*4)+"px");$("#pnl-add-clock-center").css("height","45%")}u.css("height",Math.max(af,$(window).height()-u.offset().top-A.children().first().height()-(isEmbed||t.length===0?0:90)-Math.max(MIN_BOTTOM_MARGIN,Z.position().top))+"px");if(isEmbed&&($(window).width()<200||$(window).height()<u.height())){u.css("height",$(window).height());if(u.height()<80){configC.clockDateVisible=false;a.hide();R.html("")}}if(isEmbed&&($(window).width()<400||$(window).height()<300)){$(".digit-text").removeClass("digit-text").removeClass("font-digit-text");setDigitFontNames()}}function al(){return u.height()-ag}function ae(){return u.width()}ai();if(ac.html()!=""){var ad,ah;var ak=al();var an=ae();while(S<ao&&ab()<ak&&e()<an){W(1)}while(true){ad=ab();ah=e();if(S<=ao&&ad<=ak&&ah<=an){break}W(Math.round(Math.min((ak-ad)/4,(an-ah)/20,-1)));if(S<MIN_FONT_SIZE){break}}}V();h.css("width",ac.width()+c.width()+"px");h.css("height",ac.height()+"px");h.css("left",(langC.rtl?-1:1)*Math.round((u.width()-ac.width())/2)-(langC.rtlTime&&configC.clock12hour?c.width():0)+"px");var aj=Math.round(((u.height()-h.height())/2));if((u.height()<ab()+(R.text()==""?B:0))){h.css("top",q+(R.text()!=""?R.height()+B+Y:Y)+Math.round(((u.height()-ab())/2)-ac.position().top)+"px")}else{h.css("top",(aj-ac.position().top)+"px")}R.css("width",u.width()+"px");R.css("top",h.position().top+ac.position().top-R.height()-Y+"px");var am=h.position().top+ac.position().top+ac.height()+Y;a.css("width",u.width()+"px");a.css("top",am+"px")}function V(){var ad=(S<=FONT_SIZES[0]);var ae=(configC.clockFontSizeId==FONT_SIZE_LEN||S<FONT_SIZES[configC.clockFontSizeId]);if(ad&&ae){T.hide();w.hide()}else{if(ad){T.addClass("disabled")}else{T.removeClass("disabled")}T.show();if(ae){w.addClass("disabled")}else{w.removeClass("disabled")}w.show()}}var D;function E(ag){var af=moment();if(ag===true){clearTimeout(D);I=i=-1;D=setTimeout(E,200)}else{if(af.milliseconds()<350||af.milliseconds()>650){D=setTimeout(E,50);return}D=setTimeout(E,1000)}if(p!=0){af.add(p,"seconds")}if(N!=""){af=af.tz(N)}var ad=af.hours();var ae=af.minutes();var ah=af.seconds();if(configC.clock12hour){if(langC.rtlTime){c.html((ad<12?langC.am:langC.pm)+"&nbsp;")}else{c.html("&nbsp;"+(ad<12?langC.am:langC.pm))}ad=ad%12;if(ad==0){ad=12}}ac.html(intToStrHours(ad)+":"+intToStrTwo(ae)+":"+intToStrTwo(ah));if(i!=ad){i=ad;y()}if(M!=ae){k=true;M=ae}$(".clock-body").each(function(al,am){var an=af.clone().tz($(am).data("tz"));var aj=an.hours();if(configC.clock12hour){var ak=(aj<12?langC.am:langC.pm);if(langC.rtlTime){ak+="&nbsp;"}else{ak="&nbsp;"+ak}if(!configC.themeDigitalFont||langC.am!="AM"){ak="<span style='font-size: 18px;"+(configC.themeDigitalFont?" position: relative; top: -2px;":"")+"'>"+ak+"</span>"}aj=aj%12;if(aj==0){aj=12}}var ai=intToStrHours(aj)+":"+intToStrTwo(an.minutes())+":"+intToStrTwo(an.seconds());if(configC.clock12hour){if(langC.rtlTime){ai=ak+ai}else{ai+=ak}}$(am).children().first().html(ai);if(k){$(am).children().last().html(s(af,an))}});if(k){$("#lbl-offset").html(s(moment(),af))}k=false;if(af.date()!=I){I=af.date();a.html(getDateTextByParts(af.day(),af.date(),af.month(),af.year(),configC.themeDigitalFont&&langC.isDigitalLabel,true))}}function s(ah,ag){var af=ag.utcOffset()-ah.utcOffset();var ad=(af>=0?"+":"-");af=Math.abs(af);var ae=af%60;ad+=Math.floor(af/60)+(ae!=0?":"+intToStrTwo(af%60):(langC.isAsian?langC.hour:" "+langC.hour[0]));return(ah.dayOfYear()==ag.dayOfYear()?langC.today:(ag.year()<ah.year()||ag.dayOfYear()<ah.dayOfYear()?langC.yesterday:langC.tomorrow))+langC.commaSign+ad}return{init:X}})();