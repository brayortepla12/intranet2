"use strict";angular.module("ngAutocomplete",[]).directive("ngAutocomplete",function(){return{require:"ngModel",scope:{ngModel:"=",options:"=?",details:"=?"},link:function(e,t,o,n){var s,a=!1;void 0==e.gPlace&&(e.gPlace=new google.maps.places.Autocomplete(t[0],{})),google.maps.event.addListener(e.gPlace,"place_changed",function(){var o=e.gPlace.getPlace();void 0!==o&&(void 0!==o.address_components?e.$apply(function(){e.details=o,n.$setViewValue(t.val())}):a&&c(o))});var c=function(o){var s=new google.maps.places.AutocompleteService;o.name.length>0&&s.getPlacePredictions({input:o.name,offset:o.name.length},function(o,s){null==o||0==o.length?e.$apply(function(){e.details=null}):new google.maps.places.PlacesService(t[0]).getDetails({reference:o[0].reference},function(o,s){s==google.maps.GeocoderStatus.OK&&e.$apply(function(){n.$setViewValue(o.formatted_address),t.val(o.formatted_address),e.details=o;t.on("focusout",function(e){t.val(o.formatted_address),t.unbind("focusout")})})})})};n.$render=function(){var e=n.$viewValue;t.val(e)},e.watchOptions=function(){return e.options},e.$watch(e.watchOptions,function(){s={},e.options&&(a=!0===e.options.watchEnter,e.options.types?(s.types=[],s.types.push(e.options.types),e.gPlace.setTypes(s.types)):e.gPlace.setTypes([]),e.options.bounds?(s.bounds=e.options.bounds,e.gPlace.setBounds(s.bounds)):e.gPlace.setBounds(null),e.options.country?(s.componentRestrictions={country:e.options.country},e.gPlace.setComponentRestrictions(s.componentRestrictions)):e.gPlace.setComponentRestrictions(null))},!0)}}});