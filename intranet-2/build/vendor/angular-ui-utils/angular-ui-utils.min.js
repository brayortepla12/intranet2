function uiUploader(e){"use strict";var t=this;function n(e){t.options=e;for(var n=0;n<t.files.length&&t.activeUploads!=t.options.concurrency;n++)t.files[n].active||i(t.files[n],t.options.url)}return t.files=[],t.options={},t.activeUploads=0,e.info("uiUploader loaded"),{addFiles:function(e){for(var n=0;n<e.length;n++)t.files.push(e[n])},getFiles:function(){return t.files},files:t.files,startUpload:n,removeFile:function(e){t.files.splice(t.files.indexOf(e),1)},removeAll:function(){t.files.splice(0,t.files.length)}};function i(e,i){var r,o;return t.activeUploads+=1,e.active=!0,r=new window.XMLHttpRequest,o=new window.FormData,r.open("POST",i),r.upload.onloadstart=function(){},r.upload.onprogress=function(n){var i,r;n.lengthComputable&&(e.loaded=n.loaded,e.humanSize=(i=n.loaded,r=+Math.floor(Math.log(i)/Math.log(1024)),(i/Math.pow(1024,r)).toFixed(r?1:0)+" "+["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"][isNaN(i)?0:r+1]),t.options.onProgress(e))},r.onload=function(){t.activeUploads-=1,n(t.options),t.options.onCompleted(e)},r.onerror=function(){},o.append("file",e,e.name),r.send(o),r}}angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var i=t.length;n=n.replace(/\$([0-9]+)/g,function(e,n){return(n=parseInt(n,10))>=0&&n<i?t[n]:e})}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){"use strict";return{restrict:"ECA",terminal:!0,compile:function(r,o){var u=o.uiInclude||o.src,a=o.fragment||"",l=o.onload||"",s=o.autoscroll;return function(r,o){var c,f=0,d=function(){c&&(c.$destroy(),c=null),o.html("")};function p(){var p=++f,g=r.$eval(u),h=r.$eval(a);g?e.get(g,{cache:t}).success(function(e){var t;p===f&&(c&&c.$destroy(),c=r.$new(),t=h?angular.element("<div/>").html(e).find(h):angular.element("<div/>").html(e).contents(),o.html(t),i(t)(c),!angular.isDefined(s)||s&&!r.$eval(s)||n(),c.$emit("$includeContentLoaded"),r.$eval(l))}).error(function(){p===f&&d()}):d()}r.$watch(a,p),r.$watch(u,p)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return(e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")})).replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(n){return t(e(n)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(n){return n=(n=e(n))[0]+t(n.slice(1)).join("")}};return function(e,t){return!1!==t&&angular.isString(e)?n[t=t||"humanize"](e):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){"use strict";return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e&&e[i.uiJq];return function(e,n,i){var o=[];function u(){t(function(){n[i.uiJq].apply(n,o)},0,!1)}i.uiOptions?(o=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(o[0])&&(o[0]=angular.extend({},r,o[0]))):r&&(o=[r]),i.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){u()}),u()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(n,i,r,o){var u,a,l=[];u=i.$eval(o["ui"+(a=n,a.charAt(0).toUpperCase()+a.slice(1))]),angular.forEach(u,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),r.bind(n,function(e){var r=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,u=!!e.ctrlKey,a=!!e.shiftKey,s=e.keyCode;"keypress"===n&&!a&&s>=97&&s<=122&&(s-=32),angular.forEach(l,function(n){var l=n.keys[t[s]]||n.keys[s.toString()],c=!!n.keys.meta,f=!!n.keys.alt,d=!!n.keys.ctrl,p=!!n.keys.shift;l&&c===r&&f===o&&d===u&&p===a&&i.$apply(function(){n.expression(i,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=e;return function(e,i,r,o){var u,a,l,s,c,f,d,p,g,h,m,v,$=!1,b=!1,y=r.placeholder,w=r.maxlength;var x={};r.uiOptions?(x=e.$eval("["+r.uiOptions+"]"),angular.isObject(x[0])&&(x=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(n,x[0]))):x=n,r.$observe("uiMask",function(e){return angular.isDefined(e)?(function(e){var t=0;if(u=[],a=[],l="","string"==typeof e){c=0;var n=!1,i=e.split("");angular.forEach(i,function(e,i){x.maskDefinitions[e]?(u.push(t),l+=function(e){var t=r.placeholder;return void 0!==t&&t[e]?t[e]:"_"}(i),a.push(x.maskDefinitions[e]),t++,n||c++):"?"===e?n=!0:(l+=e,t++)})}u.push(u.slice().pop()+1),s=l.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),$=u.length>1}(e),$?(function(){f=h=V(o.$modelValue||""),d=g=H(f);var e=(p=E(f))&&f.length?d:"";r.maxlength&&i.attr("maxlength",2*u[u.length-1]),i.attr("placeholder",l),i.val(e),o.$viewValue=e}(),b||(i.bind("blur",C),i.bind("mousedown mouseup",O),i.bind("input keyup click focus",P),b=!0),!0):S()):S()}),r.$observe("placeholder",function(e){angular.isDefined(e)&&(l=e,$&&P())});var k=!1;function S(){return $=!1,function(){if(!b)return;i.unbind("blur",C),i.unbind("mousedown",O),i.unbind("mouseup",O),i.unbind("input",P),i.unbind("keyup",P),i.unbind("click",P),i.unbind("focus",P),b=!1}(),angular.isDefined(y)?i.attr("placeholder",y):i.removeAttr("placeholder"),angular.isDefined(w)?i.attr("maxlength",w):i.removeAttr("maxlength"),i.val(o.$modelValue),o.$viewValue=o.$modelValue,!1}function E(e){return!e.length||e.length>=c}function V(e){var t="",n=a.slice();return e=e.toString(),angular.forEach(s,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function H(e){var t="",n=u.slice();return angular.forEach(l.split(""),function(i,r){e.length&&r===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i}),t}function C(){x.clearOnBlur&&(m=0,v=0),p&&0!==f.length||(x.clearOnBlur&&(d="",i.val("")),e.$apply(function(){o.$setViewValue("")}))}function O(e){"mousedown"===e.type?i.bind("mouseout",T):i.unbind("mouseout",T)}function T(){v=M(this),i.unbind("mouseout",T)}function P(t){var n=(t=t||{}).which,r=t.type;if(16!==n&&91!==n){var a,l=i.val(),s=g,c=V(l),f=h,d=!1,p=function(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}(this)||0,$=m||0,b=p-$,y=u[0],w=u[c.length]||u.slice().shift(),x=v||0,k=M(this)>0,S=x>0,E=l.length>s.length||x&&l.length>s.length-x,C=l.length<s.length||x&&l.length===s.length-x,O=n>=37&&n<=40&&t.shiftKey,T=8===n||"keyup"!==r&&C&&-1===b,P=46===n||"keyup"!==r&&C&&0===b&&!S,R=(37===n||T||"click"===r)&&p>y;if(v=M(this),!O&&(!k||"click"!==r&&"keyup"!==r)){if("input"===r&&C&&!S&&c===f){for(;T&&p>y&&!D(p);)p--;for(;P&&p<w&&-1===u.indexOf(p);)p++;var q=u.indexOf(p);c=c.substring(0,q)+c.substring(q+1),d=!0}for(a=H(c),g=a,h=c,i.val(a),d&&e.$apply(function(){o.$setViewValue(c)}),E&&p<=y&&(p=y+1),R&&p--,p=p>w?w:p<y?y:p;!D(p)&&p>y&&p<w;)p+=R?-1:1;(R&&p<w||E&&!D($))&&p++,m=p,function(e,t){if(!e)return 0;if(0===e.offsetWidth||0===e.offsetHeight)return;if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}(this,p)}}}function D(e){return u.indexOf(e)>-1}function M(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}r.$observe("modelViewValue",function(e){"true"===e&&(k=!0)}),e.$watch(r.ngModel,function(n){k&&n&&t(r.ngModel).assign(e,o.$viewValue)}),o.$formatters.push(function(e){return $?(f=V(e||""),p=E(f),o.$setValidity("mask",p),p&&f.length?H(f):void 0):e}),o.$parsers.push(function(e){return $?(f=V(e||""),p=E(f),o.$viewValue=f.length?H(f):"",o.$setValidity("mask",p),""===f&&r.required&&o.$setValidity("required",!o.$error.required),p?f:void 0):e}),i.bind("mousedown mouseup",O),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){var u=t(o.ngModel||o.routeModel||"$uiRoute").assign,a=angular.noop;function l(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(a=function(){u(n,e.path().indexOf(t)>-1)})()}function s(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(a=function(){var i=new RegExp("^"+t+"$",["i"]);u(n,i.test(e.path()))})()}switch(r){case"uiRoute":o.uiRoute?s(o.uiRoute):o.$observe("uiRoute",s);break;case"ngHref":o.ngHref?l(o.ngHref):o.$observe("ngHref",l);break;case"href":l(o.href)}n.$on("$routeChangeSuccess",function(){a()}),n.$on("$stateChangeSuccess",function(){a()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var n,i,r,o,u,a,l;return i=angular.element.prototype.css,e.prototype.css=function(e,t){var n;if(this,(n=this[0])&&3!==n.nodeType&&8!==n.nodeType&&n.style)return i.call(this,e,t)},a=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},l=function(e,t,n){var i,r,o,u,l;return i=e[0],r=(l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t])[0],u=l[1],o=l[2],a(i)?angular.isDefined(n)?i.scrollTo(e[o].call(e),n):u in i?i[u]:i.document.documentElement[r]:angular.isDefined(n)?i[r]=n:i[r]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,i,r,o,u;return new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i").test(t)?(n=(u=e.style).left,o=(r=e.runtimeStyle)&&r.left,r&&(r.left=u.left),u.left=t,i=u.pixelLeft,u.left=n,o&&(r.left=o),i):parseFloat(t)}),r=function(e,t){var i,r,u,l,s,c,f,d,p,g,h;return a(e)?{base:i=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],padding:0,border:0,margin:0}:(i=(h={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t])[0],f=h[1],d=h[2],c=o(e),p=n(e,c["padding"+f])||0,g=n(e,c["padding"+d])||0,r=n(e,c["border"+f+"Width"])||0,u=n(e,c["border"+d+"Width"])||0,l=c["margin"+f],s=c["margin"+d],{base:i,padding:p+g,border:r+u,margin:(n(e,l)||0)+(n(e,s)||0)})},u=function(e,t,n){var i,u;return(i=r(e,t)).base>0?{base:i.base-i.padding-i.border,outer:i.base,outerfull:i.base+i.margin}[n]:(((u=o(e)[t])<0||null===u)&&(u=e.style[t]||0),{base:(u=parseFloat(u)||0)-i.padding-i.border,outer:u,outerfull:u+i.padding+i.border+i.margin}[n])},angular.forEach({before:function(e){var t,n,i,r,o,u;if(this,n=this[0],(t=(r=this.parent()).contents())[0]===n)return r.prepend(e);for(i=o=1,u=t.length-1;1<=u?o<=u:o>=u;i=1<=u?++o:--o)if(t[i]===n)return void angular.element(t[i-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){return this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(this,"height",e)):u(this[0],"height","base")},outerHeight:function(e){return u(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,r,o;if(this,arguments.length){if(void 0===e)return this;throw new Error("offset setter method is not implemented")}if(t={top:0,left:0},n=(r=this[0])&&r.ownerDocument)return i=n.documentElement,null!=r.getBoundingClientRect&&(t=r.getBoundingClientRect()),o=n.defaultView||n.parentWindow,{top:t.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},scrollTop:function(e){return l(this,"top",e)},scrollLeft:function(e){return l(this,"left",e)}},function(t,n){if(!e.prototype[n])return e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";if(!t.jQuery)return n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,i){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,u){return function(r,o,a,l){var s,c,f,d,p,g,h,m,v,$,b,y,w,x,k,S,E,V,H,C,O,T,P,D,M,R,q,A,j,F,L,B,_,U,z,K,W,I,J,N,Y,Z,X,G,Q,ee,te,ne;if(q=e.debug||e.log,!(A=a.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/)))throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+a.uiScroll+"'");if(M=A[1],y=A[2],!(P=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)})(b=(C=function(e,t){var n;return e?(n=t.match(/^([\w]+)\.(.+)$/))&&3===n.length?C(e[n[1]],n[2]):e[t]:null})(r,y))&&!P(b=t.get(y)))throw new Error(y+" is not a valid datasource");return m=Math.max(3,+a.bufferSize||10),h=function(){return ee.outerHeight()*Math.max(.1,+a.padding||.1)},K=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},s=null,u(N=r.$new(),function(e){var t,n,i,r,u,a;if("dl"===(r=e[0].localName))throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==r&&"tr"!==r&&(r="div"),(a=l[0]&&l[0].viewport?l[0].viewport:angular.element(window)).css({"overflow-y":"auto",display:"block"}),u=(n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}})((i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),(n=i.find("tr")).paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return(n=angular.element("<"+e+"></"+e+">")).paddingHeight=n.height,n}})(r),o,"top"),t=n(i(r),o,"bottom"),N.$destroy(),s={viewport:a,topPadding:u.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:u.insert,bottomDataPos:function(){return K(a)-t.paddingHeight()},topDataPos:function(){return u.paddingHeight()}}}),ee=s.viewport,te=ee.scope()||n,angular.isDefined(a.topVisible)&&(X=function(e){return te[a.topVisible]=e}),angular.isDefined(a.topVisibleElement)&&(Z=function(e){return te[a.topVisibleElement]=e}),angular.isDefined(a.topVisibleScope)&&(Q=function(e){return te[a.topVisibleScope]=e}),Y=function(e){if(X&&X(e.scope[M]),Z&&Z(e.element),Q&&Q(e.scope),b.topVisible)return b.topVisible(e)},R=angular.isDefined(a.isLoading)?function(e){if(te[a.isLoading]=e,b.loading)return b.loading(e)}:function(e){if(b.loading)return b.loading(e)},U=0,H=1,j=1,g=[],F=[],k=!1,d=!1,D=!1,B=function(e,t){var n,i;for(n=i=e;e<=t?i<t:i>t;n=e<=t?++i:--i)g[n].scope.$destroy(),g[n].element.remove();return g.splice(e,t-e)},L=function(){return U++,H=1,j=1,B(0,g.length),s.topPadding(0),s.bottomPadding(0),F=[],k=!1,d=!1,c(U,!1)},p=function(){return ee.scrollTop()+ee.outerHeight()},G=function(){return ee.scrollTop()},W=function(){return!k&&s.bottomDataPos()<p()+h()},v=function(){var e,t,n,i,r,o,u,a,l,c;for(e=0,u=0,t=l=c=g.length-1;c<=0?l<=0:l>=0;t=c<=0?++l:--l)if(o=a!==(r=(n=g[t]).element.offset().top),a=r,o&&(i=n.element.outerHeight(!0)),s.bottomDataPos()-e-i>p()+h())o&&(e+=i),u++,k=!1;else{if(o)break;u++}if(u>0)return s.bottomPadding(s.bottomPadding()+e),B(g.length-u,g.length),j-=u,q("clipped off bottom "+u+" bottom padding "+s.bottomPadding())},I=function(){return!d&&s.topDataPos()>G()-h()},$=function(){var e,t,n,i,r,o,u,a,l;for(u=0,r=0,a=0,l=g.length;a<l;a++)if(i=o!==(n=(e=g[a]).element.offset().top),o=n,i&&(t=e.element.outerHeight(!0)),s.topDataPos()+u+t<G()-h())i&&(u+=t),r++,d=!1;else{if(i)break;r++}if(r>0)return s.topPadding(s.topPadding()+u),B(0,r),H+=r,q("clipped off top "+r+" top padding "+s.topPadding())},x=function(e,t,n){if(D||(D=!0,R(!0)),1===F.push(t))return E(e,n)},O=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},J=function(e){if(e.hasOwnProperty("displayTemp"))return e.css("display",e.displayTemp)},T=function(e,t){var n,i,o;return(n=r.$new())[M]=t,i=e>H,n.$index=e,i&&n.$index--,o={scope:n},u(n,function(t){return o.element=t,i?e===j?(O(t),s.append(t),g.push(o)):(g[e-H].element.after(t),g.splice(e-H+1,0,o)):(O(t),s.prepend(t),g.unshift(o))}),{appended:i,wrapper:o}},f=function(e,t){var n;return e?s.bottomPadding(Math.max(0,s.bottomPadding()-t.element.outerHeight(!0))):(n=s.topPadding()-t.element.outerHeight(!0))>=0?s.topPadding(n):ee.scrollTop(ee.scrollTop()+t.element.outerHeight(!0))},w=function(e,t,n){var i,r,o,u,a,l,c,f,d;if(q("top {actual="+s.topDataPos()+" visible from="+G()+" bottom {visible through="+p()+" actual="+s.bottomDataPos()+"}"),W()?x(e,!0,t):I()&&x(e,!1,t),n&&n(e),0===F.length){for(l=0,d=[],c=0,f=g.length;c<f;c++){if(u=a!==(o=(i=g[c]).element.offset().top),a=o,u&&(r=i.element.outerHeight(!0)),!(u&&s.topDataPos()+l+r<G())){u&&Y(i);break}d.push(l+=r)}return d}},c=function(e,t,n,r){return n&&n.length?i(function(){var i,u,a,l,s,c,d,p;for(l=[],s=0,d=n.length;s<d;s++)u=n[s],o=u.wrapper.element,J(o),a!==(i=o.offset().top)&&(l.push(u),a=i);for(c=0,p=l.length;c<p;c++)u=l[c],f(u.appended,u.wrapper);return w(e,t,r)}):w(e,t,r)},V=function(e,t,n){return c(e,t,n,function(){return F.shift(),0===F.length?(D=!1,R(!1)):E(e,t)})},E=function(e,t){return F[0]?g.length&&!W()?V(e,t):b.get(j,m,function(n){var i,r,o,u;if(!e||e===U){if(r=[],n.length<m&&(k=!0,s.bottomPadding(0)),n.length>0)for($(),o=0,u=n.length;o<u;o++)i=n[o],r.push(T(++j,i));return V(e,t,r)}}):g.length&&!I()?V(e,t):b.get(H-m,m,function(n){var i,r,o,u;if(!e||e===U){if(r=[],n.length<m&&(d=!0,s.topPadding(0)),n.length>0)for(g.length&&v(),i=o=u=n.length-1;u<=0?o<=0:o>=0;i=u<=0?++o:--o)r.unshift(T(--H,n[i]));return V(e,t,r)}})},_=function(){if(!n.$$phase&&!D)return c(null,!1),r.$apply()},ee.bind("resize",_),z=function(){if(!n.$$phase&&!D)return c(null,!0),r.$apply()},ee.bind("scroll",z),ne=function(e){var t,n;if(t=ee[0].scrollTop,n=ee[0].scrollHeight-ee[0].clientHeight,0===t&&!d||t===n&&!k)return e.preventDefault()},ee.bind("mousewheel",ne),r.$watch(b.revision,function(){return L()}),S=b.scope?b.scope.$new():r.$new(),r.$on("$destroy",function(){return S.$destroy(),ee.unbind("resize",_),ee.unbind("scroll",z),ee.unbind("mousewheel",ne)}),S.$on("update.items",function(e,t,n){var i,r,o,u;if(angular.isFunction(t))for(i=function(e){return t(e.scope)},r=0,o=g.length;r<o;r++)i(g[r]);else 0<=(u=t-H-1)&&u<g.length&&(g[t-H-1].scope[M]=n);return null}),S.$on("delete.items",function(e,t){var n,i,r,o,u,a,l,s,f,d,p;if(angular.isFunction(t)){for(r=[],u=0,s=g.length;u<s;u++)i=g[u],r.unshift(i);for(o=function(e){if(t(e.scope))return B(r.length-1-n,r.length-n),j--},n=a=0,f=r.length;a<f;n=++a)o(r[n])}else 0<=(p=t-H-1)&&p<g.length&&(B(t-H-1,t-H),j--);for(n=l=0,d=g.length;l<d;n=++l)(i=g[n]).scope.$index=H+n;return c(null,!1)}),S.$on("insert.item",function(e,t,n){var i,r,o,u,a;if(r=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");for(0<=(a=t-H-1)&&a<g.length&&(r.push(T(t,n)),j++),i=o=0,u=g.length;o<u;i=++o)(n=g[i]).scope.$index=H+i;return c(null,!1,r)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";return{require:"^?uiScrollfixTarget",link:function(t,n,i,r){var o=n[0].offsetTop,u=r&&r.$element||angular.element(e);function a(){var t=r?u[0].scrollTop:angular.isDefined(e.pageYOffset)?e.pageYOffset:(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop;!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<i.uiScrollfix&&n.removeClass("ui-scrollfix")}i.uiScrollfix?"string"==typeof i.uiScrollfix&&("-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=o-parseFloat(i.uiScrollfix.substr(1)):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=o+parseFloat(i.uiScrollfix.substr(1)))):i.uiScrollfix=o,u.on("scroll",a),t.$on("$destroy",function(){u.off("scroll",a)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,n){if(!1===n)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var i=[],r=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?r(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<i.length;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),t=i}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o,u={},a=e.$eval(n.uiValidate);a&&(angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(t,n){r=function(r){var o=e.$eval(t,{$value:r});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){i.$setValidity(n,!0)},function(){i.$setValidity(n,!1)}),r):o?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),r)},u[n]=r,i.$formatters.push(r),i.$parsers.push(r)}),n.uiValidateWatch&&(o=e.$eval(n.uiValidateWatch),angular.isString(o)?e.$watch(o,function(){angular.forEach(u,function(e){e(i.$modelValue)})}):angular.isArray(o)?angular.forEach(o,function(t){e.$watch(t,function(){angular.forEach(u,function(e){e(i.$modelValue)})})}):angular.isObject(o)&&angular.forEach(o,function(t,n){angular.isString(t)&&e.$watch(t,function(){u[n](i.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){u[n](i.$modelValue)})})})))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);