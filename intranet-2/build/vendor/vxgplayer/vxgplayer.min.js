window.vxgplayer=function(e,o){if(window.vxgplayer.version="1.8.2",window.vxgplayer.players=window.vxgplayer.players||{},document.getElementById(e)){if(window.vxgplayer.browserSupportsPluginPnacl=function(){return void 0!==navigator.mimeTypes["application/x-pnacl"]&&void 0!==navigator.mimeTypes["application/vxg_media_player"]},!window.vxgplayer.players[e]){if("undefined"==typeof chrome){console.log("Available in Chrome");var l=document.getElementById(e),t=640,a=480;t=parseInt(l.width,10)||t,a=parseInt(l.height,10)||a,l.style.width=t+"px",l.style.height=a+"px";var r='<div class="vxgplayer-unsupport">\t<div class="vxgplayer-unsupport-content"> Available in <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>\t</div></div>';return void(l.innerHTML=r)}if(!vxgplayer.browserSupportsPluginPnacl()){console.log("Not installed vxg_media_player");l=document.getElementById(e),t=640,a=480;t=parseInt(l.width,10)||t,a=parseInt(l.height,10)||a,l.style.width=t+"px",l.style.height=a+"px";r='<div class="vxgplayer-unsupport">\t<div class="vxgplayer-unsupport-content">\t<a href="http://www.videoexpertsgroup.com/player_start/">Click here for install plugin</a>\t<br/><br/> or visit in webstore <a href="https://chrome.google.com/webstore/detail/vxg-media-player/hncknjnnbahamgpjoafdebabmoamcnni" target="_blank">VXG Media Player</a>\t</div></div>';return void(l.innerHTML=r)}var n=window.RequestFileSystem||window.webkitRequestFileSystem;n?n(window.TEMPORARY,100,function(){window.location.href="http://www.videoexpertsgroup.com/player_start/"},function(){}):window.location.href="http://www.videoexpertsgroup.com/player_start/",window.vxgplayer.players[e]=new function(e,o){var l=this;l.id=e,l.player=document.getElementById(e),o=o||{},console.log(o);var t,a="/Polivalente/player/pnacl/Release/media_player.nmf",r="/Polivalente/player/pnacl/Release/media_player.nmf";l.playerWidth=o.width||640,l.playerHeight=o.height||480,a=l.player.getAttribute("nmf-path")||o.nmf_path||a,r=l.player.getAttribute("nmf-src")||o.nmf_src||r,t=l.player.getAttribute("url")||o.url||"",l.playerWidth=parseInt(l.player.getAttribute("width"),10)||l.playerWidth,l.playerHeight=parseInt(l.player.getAttribute("height"),10)||l.playerHeight,l.player.style.width=l.playerWidth+"px",l.player.style.height=l.playerHeight+"px";var n='<div class="vxgplayer-loader" style="display: inline-block"></div><div class="vxgplayer-error" style="display: none">\t<div class="vxgplayer-error-text" style="display: none"></div></div><div class="vxgplayer-controls">\t<div class="vxgplayer-volume-mute"></div>\t<div class="vxgplayer-volume-down"></div>\t<div class="vxgplayer-volume-progress vol7"></div>\t<div class="vxgplayer-volume-up"></div>\t<div class="vxgplayer-play"></div>\t<div class="vxgplayer-stop" style="display: none"></div>\t<div class="vxgplayer-fullscreen"></div></div><embed class="vxgplayer-module" autostart_parameter="'+(l.player.hasAttribute("autostart")?"1":"0")+'" name="nacl_module" id="'+e+'_nacl_module" path="'+a+'" src="'+r+'" url="'+t+'" type="application/x-pnacl">';l.player.innerHTML=n;var d=l.player.getElementsByClassName("vxgplayer-controls")[0],u=l.player.getElementsByClassName("vxgplayer-play")[0],s=l.player.getElementsByClassName("vxgplayer-stop")[0],i=l.player.getElementsByClassName("vxgplayer-volume-mute")[0],m=l.player.getElementsByClassName("vxgplayer-volume-down")[0],c=l.player.getElementsByClassName("vxgplayer-volume-progress")[0],p=l.player.getElementsByClassName("vxgplayer-volume-up")[0],y=l.player.getElementsByClassName("vxgplayer-fullscreen")[0],v=l.player.getElementsByClassName("vxgplayer-loader")[0],g=l.player.getElementsByClassName("vxgplayer-error")[0],h=l.player.getElementsByClassName("vxgplayer-error-text")[0];document.getElementById(e+"_btnstart");function f(){l.module.debug&&console.log("playerDidLoad: ",arguments),v.style.display="none",l.onReadyStateCallback?l.onReadyStateCallback():l.src(l.module.url)}l.module=document.getElementById(e+"_nacl_module"),l.module.command=function(){for(var e=[],o=0;o<arguments.length;o++)e.push(arguments[o]);l.module.postMessage(e)},l.module.versionapp="unknown",l.module.url=t||"",l.module.debug=l.player.hasAttribute("debug"),l.module.autostart=l.player.hasAttribute("autostart"),l.module.is_opened=!1,l.module.latency=1e4,l.module.controls=!0,l.module.avsync=o.avsync||!1,l.module.volume=o.volume||.7,l.module.vxgReadyState=0,l.module.autohide=o.autohide||2e3,l.module.lastErrorCode=-1,l.module.autoreconnect=o.autoreconnect||0,l.module.debug&&console.log(e+" -  init new player"),l.player.hasAttribute("controls")||(l.module.controls=!1,d.style.display="none"),o.controls&&1==o.controls&&(l.module.controls=!0,d.style.display=""),l.player.hasAttribute("useragent-prefix")?l.module.command("setuseragent",l.player.getAttribute("useragent-prefix")+" "+navigator.userAgent):o.useragent_prefix&&l.module.command("setuseragent",o.useragent_prefix+" "+navigator.userAgent),l.module.command("setversion",window.vxgplayer.version),(l.player.hasAttribute("auto-reconnect")||o.autoreconnect)&&(l.module.autoreconnect=1,l.module.command("setautoreconnect","1")),l.module.avsync=l.player.hasAttribute("avsync"),l.module.aspectRatio=l.player.hasAttribute("aspect-ratio")||l.player.hasAttribute("aspect-ratio-mode")?1:0,l.player.hasAttribute("aspect-ratio-mode")?l.module.aspectRatio=parseInt(l.player.getAttribute("aspect-ratio-mode"),10):o.aspect_ratio_mode&&(l.module.aspectRatio=o.aspect_ratio_mode),l.module.aspectRatioMode=0!=l.module.aspectRatio?l.module.aspectRatio:1,l.module.command("setaspectratio",l.module.aspectRatio.toString()),l.module.command("setavsync",l.module.avsync?"1":"0"),l.player.hasAttribute("latency")?(l.module.latency=parseInt(l.player.getAttribute("latency"),10),l.module.command("setlatency",l.module.latency.toString())):o.latency&&(l.module.latency=o.latency,l.module.command("setlatency",l.module.latency.toString())),l.player.hasAttribute("volume")?(l.module.volume=parseFloat(l.player.getAttribute("volume")),l.module.volume=Math.ceil(10*l.module.volume)/10,l.module.command("setvolume",l.module.volume.toFixed(1))):o.volume&&console.warn("TODO volume"),l.module.mute=o.mute||0==l.module.volume,l.module.mute&&(m.style.display="none",c.style.display="none",p.style.display="none"),l.player.hasAttribute("autohide")?l.module.autohide=1e3*parseInt(l.player.getAttribute("autohide"),10):o.autohide&&(l.module.autohide=1e3*o.autohide),l.timeout=void 0,c.className=c.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume)),l.showerror=function(e){v.style.display="none",g.style.display="inline-block",h.style.display="inline-block",h.innerHTML=e},l.hideerror=function(e){g.style.display="none",h.style.display="none"},l.readyState=function(){return l.module.vxgReadyState},l.onReadyStateChange=function(e){l.onReadyStateCallback=e},l.ready=l.onReadyStateChange,l.onStateChange=function(e){l.onStateChangeCallback=e},l.onBandwidthError=function(e){l.module.handlerBandwidthError=e},l.onError=function(e){l.module.handlerError=e},l.restartTimeout=function(){d.style.opacity="0.7",clearTimeout(l.timeout),l.timeout=setTimeout(function(){d.style.opacity="0"},l.module.autohide)},l.player.addEventListener("mousemove",function(){l.restartTimeout()},!0),l.restartTimeout(),l.module.addEventListener("load",function(){l.module.debug&&console.log("moduleDidLoad: ",arguments),"https:"==window.location.protocol?function(){l.module.debug&&console.log("connectToApp"),l.module.port=chrome.runtime.connect("hncknjnnbahamgpjoafdebabmoamcnni"),l.module.debug&&console.log("connected port="+l.module.port);var e=new Date;e.getTime(),l.module.port.name=""+e.getTime(),l.module.port.onDisconnect.addListener(function(){l.module.debug&&console.log("disconnected port.name="+l.module.port.name),l.module.command("stopnativeclient","@"+l.module.port.name),l.module.port=void 0}),l.module.debug&&console.log("connected port.name="+l.module.port.name),l.module.port.onMessage.addListener(function(e){void 0!=e&&void 0==e.id&&"@"==e[0].charAt(0)?l.module.postMessage(e):void 0!=e&&"getversionapp"==e.cmd?0==e.data.indexOf("VERSION_APP")?(l.module.versionapp=e.data.split(" ")[1],l.module.debug&&console.log("=VERSION_APP "+l.module.versionapp),l.module.command("setappversion",l.module.versionapp),l.module.command("startnativeclient","@"+l.module.port.name),f()):console.log("Invalid VERSION_APP msg.data="+e.data):console.log("getversionapp unknown msg="+e)}),l.module.port.postMessage({id:""+l.module.port.name,cmd:"getversionapp",data:""})}():l.module.command("startwebsclient","8778")},!0),l.module.addEventListener("message",function(o){l.module.debug&&console.log("Player "+e+": "+o.data),void 0!=o&&void 0!=o.data&&("@"==o.data[0].charAt(0)?void 0!=l.module.port&&l.module.port.postMessage(o.data):0==o.data.indexOf("VERSION_APP")?(l.module.versionapp=o.data.split(" ")[1],l.module.debug&&console.log("=VERSION_APP "+l.module.versionapp),f()):"MEDIA_ERR_URL"==o.data?(l.showerror("Problem with URL"),l.module.lastErrorCode=0,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_NETWORK"==o.data?(l.showerror("Problem with network"),l.module.lastErrorCode=1,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_SOURCE"==o.data?(l.showerror("Problem with source"),l.module.lastErrorCode=2,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_CARRIER"==o.data?(l.showerror("Problem with carrier"),l.module.lastErrorCode=3,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_AUDIO"==o.data?(l.showerror("Problem with audio"),l.module.lastErrorCode=4,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_VIDEO"==o.data?(l.showerror("Problem with video"),l.module.lastErrorCode=5,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_AUTHENTICATION"==o.data?(l.showerror("Problem with authentification"),l.module.lastErrorCode=6,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_BANDWIDTH"==o.data?(l.stop(),l.module.lastErrorCode=7,l.module.handlerError&&l.module.handlerError(l),l.module.handlerBandwidthError&&l.module.handlerBandwidthError(l)):"MEDIA_ERR_EOF"==o.data?(l.showerror("End of File"),l.module.lastErrorCode=8,l.module.handlerError&&l.module.handlerError(l)):"PLAYER_CONNECTING"==o.data?(l.module.vxgReadyState=1,v.style.display="inline-block",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)):"PLAYER_PLAYING"==o.data?(l.module.vxgReadyState=2,u.style.display="none",s.style.display="inline-block",l.hideerror(),v.style.display="none",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)):"PLAYER_STOPPING"==o.data?(l.module.vxgReadyState=3,u.style.display="none",s.style.display="none"):"PLAYER_STOPPED"==o.data&&(l.module.vxgReadyState=0,u.style.display="inline-block",s.style.display="none",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)))},!0),l.module.addEventListener("error",function(){v.style.display="none",g.style.display="block",console.error("ERROR"),l.showerror("Unknown error")},!0),l.module.addEventListener("crash",function(){v.style.display="none",g.style.display="block",l.showerror("Crashed")},!0),void 0!==window.attachListeners&&window.attachListeners(),l.error=function(){return l.module.lastErrorCode},l.controls=function(e){if(void 0==e)return l.module.controls;1==e?(d.style.display="",l.module.controls=!0):0==e&&(d.style.display="none",l.module.controls=!1)},l.debug=function(e){if(void 0==e)return l.module.debug;l.module.debug=e},l.play=function(){l.hideerror(),l.module.debug&&console.log("self.play self.module.url="+l.module.url+" self.module.is_opened="+l.module.is_opened),l.module.url.length<1?console.log("invalid url"):(l.module.is_opened||(l.module.is_opened=!0,l.module.command("open",l.module.url)),u.style.display="none",v.style.display="inline-block",l.module.command("play","0"),l.module.command("setvolume",l.module.volume.toFixed(1)))},l.stop=function(){l.module.command("stop","0"),v.style.display="none"},l.pause=function(){l.module.command("pause","0"),v.style.display="none"},l.autohide=function(e){if(!e)return l.module.autohide/1e3;l.module.autohide=1e3*e},l.autoreconnect=function(e){if(void 0==e)return l.module.autoreconnect;l.module.autoreconnect=parseInt(e,10),l.module.command("setautoreconnect",l.module.autoreconnect.toString())},l.latency=function(e){if(!e)return l.module.latency;l.module.latency=parseInt(e,10),l.module.command("setlatency",e.toString())},l.aspectRatio=function(e){if(void 0==e)return!!l.module.aspectRatio;l.module.aspectRatio=e?l.module.aspectRatioMode:0,l.module.command("setaspectratio",l.module.aspectRatio.toString())},l.aspectRatioMode=function(e){if(void 0==e)return l.module.aspectRatioMode;l.module.aspectRatioMode=e>0?e:l.module.aspectRatioMode,l.module.aspectRatio=e,l.module.command("setaspectratio",l.module.aspectRatio.toString())},l.avsync=function(e){if(void 0==e)return l.module.avsync;l.module.avsync=e,l.module.command("setavsync",l.module.avsync?"1":"0")},l.isMute=function(){return l.module.mute},l.isPlaying=function(){return 2==l.module.vxgReadyState},l.versionPLG=function(){return window.vxgplayer.version},l.versionAPP=function(){return l.module.versionapp},l.mute=function(){l.restartTimeout(),l.module.mute=!l.module.mute,l.module.mute?(m.style.display="none",c.style.display="none",p.style.display="none",c.className=c.className.replace(/vol\d+/g,"vol0")):(m.style.display="inline-block",c.style.display="inline-block",p.style.display="inline-block",c.className=c.className.replace(/vol\d+/g,"vol"+Math.floor(10*l.module.volume))),l.module.command("setvolume",l.module.mute?"0":""+l.module.volume)},l.volume=function(e){if(void 0==e)return l.module.volume;e=(e=e>1?1:e)<0?0:e,l.module.volume=Math.ceil(10*e)/10,l.module.command("setvolume",l.module.volume.toFixed(1)),c.className=c.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume))},l.volup=function(){l.restartTimeout(),Math.round(10*l.module.volume)<10&&(l.module.volume=l.module.volume+.1,l.module.command("setvolume",l.module.volume.toFixed(1)),c.className=c.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume)))},l.voldown=function(){l.restartTimeout(),Math.round(10*l.module.volume)>0&&(l.module.volume=l.module.volume-.1,l.module.command("setvolume",l.module.volume.toFixed(1)),c.className=c.className.replace(/vol\d+/g,"vol"+Math.floor(10*l.module.volume)))},l.size=function(e,o){if(!e||!o)return{width:l.playerWidth,height:l.playerHeight};if(Number.isInteger(e)&&Number.isInteger(o)){var t=parseInt(e,10),a=parseInt(o,10);l.playerWidth=l.playerWidth!=t?t:l.playerWidth,l.playerHeight=l.playerHeight!=a?a:l.playerHeight,l.player.style.width=e+"px",l.player.style.height=o+"px"}else l.player.style.width=e,l.player.style.height=o},l.changedFullscreen=function(){console.log("changedFullscreen"),document.webkitIsFullScreen?(l.size("100%","100%"),console.log("changedFullscreen -> fullscreen")):(l.size(l.playerWidth+"px",l.playerHeight+"px"),console.log("changedFullscreen -> NOT fullscreen"))},document.addEventListener&&(document.addEventListener("webkitfullscreenchange",l.changedFullscreen,!1),document.addEventListener("mozfullscreenchange",l.changedFullscreen,!1),document.addEventListener("fullscreenchange",l.changedFullscreen,!1),document.addEventListener("MSFullscreenChange",l.changedFullscreen,!1)),l.fullscreen=function(){console.log("fullscreen: clicked"),1==document.webkitIsFullScreen?document.webkitCancelFullScreen():l.player.requestFullscreen?l.player.requestFullscreen():l.player.webkitRequestFullscreen?l.player.webkitRequestFullscreen():l.player.mozRequestFullscreen&&l.player.mozRequestFullScreen()},l.src=function(e){if(void 0==e)return l.module.url;l.module.url=e,console.log("src="+l.module.url+" autostart="+l.module.autostart+" is_opened="+l.module.is_opened),l.module.url.length>0&&l.module.autostart?(l.module.is_opened=!0,l.module.command("open",e)):(console.log(l.module),l.module.is_opened=!1,l.stop())},l.dispose=function(){l.player.innerHTML="",delete window.vxgplayer.players[l.id]},u.onclick=l.play,s.onclick=l.stop,y.onclick=l.fullscreen,i.onclick=l.mute,m.onclick=l.voldown,p.onclick=l.volup}(e,o)}return window.vxgplayer.players[e]}console.error(" Player with "+e+" did not found")},document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByClassName("vxgplayer"),o=0;o<e.length;o++)e[o].id?vxgplayer(e[o].id):console.error("Player has not id",e[o])});