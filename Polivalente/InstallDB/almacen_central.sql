ALTER TABLE `polivalente`.`almacen_articulo` 
ADD COLUMN `ArticuloPara` VARCHAR(45) NULL DEFAULT 'Almacen' AFTER `GrupoId`;

INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4444_m','AGUJA ESPINAL No. 18G','4444_m','AGUJA ESPINAL No. 18G',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1163_M','AGUJA ESPINAL No. 20G X 3 1/2','1163_M','AGUJA ESPINAL No. 20G X 3 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4371_M','AGUJA ESPINAL No. 22G X 3 1/2','4371_M','AGUJA ESPINAL No. 22G X 3 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1052_M','AGUJA ESPINAL No. 25G X 3','1052_M','AGUJA ESPINAL No. 25G X 3',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4662_M','AGUJA ESPINAL No. 26G X 2 PEDIÁTRICA','4662_M','AGUJA ESPINAL No. 26G X 2 PEDIÁTRICA',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1053_M','AGUJA ESPINAL No. 26G X 3','1053_M','AGUJA ESPINAL No. 26G X 3',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1054_M','AGUJA ESPINAL No. 27G X 3 1/2','1054_M','AGUJA ESPINAL No. 27G X 3 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4435_M','AGUJA HIPODÉRMICA No. 16G','4435_M','AGUJA HIPODÉRMICA No. 16G',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5160_M','AGUJA HIPODÉRMICA No. 18G x 1 1/2','5160_M','AGUJA HIPODÉRMICA No. 18G x 1 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1255_M','AGUJA HIPODÉRMICA No. 20G','1255_M','AGUJA HIPODÉRMICA No. 20G',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5513_M','AGUJA HIPODÉRMICA No. 21G x 1 1/2','5513_M','AGUJA HIPODÉRMICA No. 21G x 1 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('20064_M','AGUJA HIPODÉRMICA No. 22G x 1 1/2','20064_M','AGUJA HIPODÉRMICA No. 22G x 1 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5488_M','AGUJA HIPODÉRMICA No. 23G x 1 ','5488_M','AGUJA HIPODÉRMICA No. 23G x 1 ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1073_M','AGUJA HIPODÉRMICA No. 25G ','1073_M','AGUJA HIPODÉRMICA No. 25G ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5481_M','AGUJA HIPODÉRMICA No. 26G x 1 1/2','5481_M','AGUJA HIPODÉRMICA No. 26G x 1 1/2',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1074_M','AGUJA HIPODÉRMICA No. 27G ','1074_M','AGUJA HIPODÉRMICA No. 27G ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2866_M','BROMOHIDRATO DE FENOTEROL  + BROMURO DE IPATROPIO 50mcg + 20mcg FCO X 15mL ','2866_M','BROMOHIDRATO DE FENOTEROL  + BROMURO DE IPATROPIO 50mcg + 20mcg FCO X 15mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3922_M','BROMURO DE IPATROPIO 0,025% SOL. PARA NEBULIZAR (ATROVENT)','3922_M','BROMURO DE IPATROPIO 0,025% SOL. PARA NEBULIZAR (ATROVENT)',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5921_M','BUPIVACAINA + LEVOGIRA 0,75% SOL. INY X 10mL (BUPIROP 0,75% PESADO)','5921_M','BUPIVACAINA + LEVOGIRA 0,75% SOL. INY X 10mL (BUPIROP 0,75% PESADO)',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2346_M','BUPIVACAINA 0,5%  X 20mL (BUPIROP 0,5% SIMPLE)','2346_M','BUPIVACAINA 0,5%  X 20mL (BUPIROP 0,5% SIMPLE)',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2348_M','BUPIVACAINA 0,5% + DEXTROSA X 4mL (BUPIROP 0,5% PESADO)','2348_M','BUPIVACAINA 0,5% + DEXTROSA X 4mL (BUPIROP 0,5% PESADO)',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4320_M','BUPIVACAINA 0,5% CON EPINEFRINA VIAL X 20mL  (BUPIROP 0,5%)','4320_M','BUPIVACAINA 0,5% CON EPINEFRINA VIAL X 20mL  (BUPIROP 0,5%)',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('ALMASUMI_891','COVERPLAST CURAS REDONDAS','ALMASUMI_891','COVERPLAST CURAS REDONDAS',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1155_M','DESFLURANO USP X 100mL ','1155_M','DESFLURANO USP X 100mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4438_M','FIXOMULL STRETCH 10 X 10 CM','4438_M','FIXOMULL STRETCH 10 X 10 CM',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4577_M','FIXOMULL TRANSPARENTE 10 X 10 CM','4577_M','FIXOMULL TRANSPARENTE 10 X 10 CM',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('ALMASUMI-304','GUANTES DE MANEJO TALLA S - TALLA M','ALMASUMI-304','GUANTES DE MANEJO TALLA S - TALLA M',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1524_M','GUANTES DE VINILO','1524_M','GUANTES DE VINILO',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1526_M','GUANTES QUIRURGICOS ESTÉRILES 6,5','1526_M','GUANTES QUIRURGICOS ESTÉRILES 6,5',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5153_M','GUANTES QUIRURGICOS ESTÉRILES 7,0','5153_M','GUANTES QUIRURGICOS ESTÉRILES 7,0',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5152_M','GUANTES QUIRURGICOS ESTÉRILES 7,5','5152_M','GUANTES QUIRURGICOS ESTÉRILES 7,5',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5156_M','GUANTES QUIRURGICOS ESTÉRILES 8,0','5156_M','GUANTES QUIRURGICOS ESTÉRILES 8,0',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5665_M','GUANTES QUIRURGICOS ESTÉRILES 8,5','5665_M','GUANTES QUIRURGICOS ESTÉRILES 8,5',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4072_M','HOJA DE BISTURI No. 10','4072_M','HOJA DE BISTURI No. 10',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4118_M','HOJA DE BISTURI No. 11','4118_M','HOJA DE BISTURI No. 11',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1844_M','HOJA DE BISTURI No. 12','1844_M','HOJA DE BISTURI No. 12',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3924_M','HOJA DE BISTURI No. 15','3924_M','HOJA DE BISTURI No. 15',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3157_M','HOJA DE BISTURI No. 20','3157_M','HOJA DE BISTURI No. 20',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4266_M','HOJA DE BISTURI No. 23','4266_M','HOJA DE BISTURI No. 23',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1030_M','JERINGAS DESECHABLES X 10mL ','1030_M','JERINGAS DESECHABLES X 10mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4582_M','JERINGAS DESECHABLES X 3mL ','4582_M','JERINGAS DESECHABLES X 3mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1031_M','JERINGAS DESECHABLES X 5mL ','1031_M','JERINGAS DESECHABLES X 5mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('4589_M','LANCETAS ','4589_M','LANCETAS ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('10068_M','LEUKOMED 5 X 7,2 cm','10068_M','LEUKOMED 5 X 7,2 cm',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2637_M','LEUKOMED 8,5 X 11,5 cm','2637_M','LEUKOMED 8,5 X 11,5 cm',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5776_M','LIDOCAINA 1% CON EPINEFRINA 20mL ','5776_M','LIDOCAINA 1% CON EPINEFRINA 20mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2339_M','LIDOCAINA 1% CON EPINEFRINA 50mL ','2339_M','LIDOCAINA 1% CON EPINEFRINA 50mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('5775_M','LIDOCAINA 1% SIN EPINEFRINA 50mL ','5775_M','LIDOCAINA 1% SIN EPINEFRINA 50mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2327_M','LIDOCAINA 2% CON EPINEFRINA 20mL','2327_M','LIDOCAINA 2% CON EPINEFRINA 20mL',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2341_M','LIDOCAINA 2% CON EPINEFRINA 50mL ','2341_M','LIDOCAINA 2% CON EPINEFRINA 50mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2347_M','LIDOCAINA 2% SIN EPINEFRINA 50mL ','2347_M','LIDOCAINA 2% SIN EPINEFRINA 50mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3713_M','LIDOCAINA ATOMIZADOR 80g X 83mL ','3713_M','LIDOCAINA ATOMIZADOR 80g X 83mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2331_M','LIDOCAINA JALEA 2% TUBO X 30mL','2331_M','LIDOCAINA JALEA 2% TUBO X 30mL',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('8993_M','NAN PREMATUROS FORMULA LIQUIDA FCO  88,5mL','8993_M','NAN PREMATUROS FORMULA LIQUIDA FCO  88,5mL',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('6_M','NITROFURAZONA CREMA 400 g','6_M','NITROFURAZONA CREMA 400 g',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('ALMASUMI-443','PRESERVATIVOS','ALMASUMI-443','PRESERVATIVOS',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3965_M','PROPOFOL 10mg X 20mL INYECTABLE','3965_M','PROPOFOL 10mg X 20mL INYECTABLE',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('ALMASUMI-1081','SACHET DE BACCIDINE','ALMASUMI-1081','SACHET DE BACCIDINE',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2568_M','SALBUTAMOL PARA NEBULIZAR 5mg/mL  FCO X 10mL ','2568_M','SALBUTAMOL PARA NEBULIZAR 5mg/mL  FCO X 10mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('2367_M','SEVOFLURANO 100% FRASCO X 250mL ','2367_M','SEVOFLURANO 100% FRASCO X 250mL ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('1264_M','TAPABOCAS','1264_M','TAPABOCAS',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('ALMASUMI-578','TAPABOCAS N-95','ALMASUMI-578','TAPABOCAS N-95',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3465_M','TERMOMETRO ','3465_M','TERMOMETRO ',4,'Central');
INSERT INTO `polivalente`.`almacen_articulo` (`CodigoKrystalos`,`Nombre`,`Codigo`,`NombreKrystalos`,`GrupoId`,`ArticuloPara`)VALUES('3662_M','TIRILLAS','3662_M','TIRILLAS',4,'Central');
DELIMITER $$
CREATE DEFINER=`ospino`@`%` FUNCTION `GetCountArticulosByTipo`(_PedidoAlmacenId int, _Tipo varchar(10)) RETURNS int(11)
    DETERMINISTIC
BEGIN 
  DECLARE dist int;
  SET dist = (select count(*) from almacen_articulo as a 
            inner join almacen_itempedido as ip on ip.PedidoAlmacenId = _PedidoAlmacenId
            where a.ArticuloId = ip.ArticuloId and a.ArticuloPara = _Tipo);
  RETURN dist;
END$$
DELIMITER ;
